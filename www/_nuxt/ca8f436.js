(window.webpackJsonp=window.webpackJsonp||[]).push([[2,5,9,10,14],{322:function(e,t,n){"use strict";n.r(t);n(234),n(31);var r=n(7).default.extend({props:{delay:{type:Number,default:150}},data:function(){return{isVisible:!1,timeout:0}},methods:{show:function(){var e=this;this.timeout||(this.timeout=setTimeout((function(){e.isVisible=!0}),this.delay))},hide:function(){clearTimeout(this.timeout),this.isVisible=!1,this.timeout=0}}}),o=n(63),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("b-spinner",{attrs:{small:"",label:"Spinning"}}):e._e()}),[],!1,null,null,null);t.default=component.exports},323:function(e,t,n){var content=n(328);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(97).default)("3ffc8ce4",content,!0,{sourceMap:!1})},324:function(e,t,n){"use strict";n.r(t),n.d(t,"getCurrentUser",(function(){return o}));var r=n(16);n(64);function o(e){return c.apply(this,arguments)}function c(){return(c=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$get("users/current");case 3:return n=e.sent,e.abrupt("return",n.username);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","");case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},327:function(e,t,n){"use strict";n(323)},328:function(e,t,n){var r=n(96)(!1);r.push([e.i,'blockquote[data-v-7cb1ec68]{font-family:Georgia,serif;font-size:18px;font-style:italic;margin:.25em 0;padding:.35em 40px;line-height:1.45;position:relative;color:#383838}blockquote[data-v-7cb1ec68]:before{display:block;padding-left:10px;content:"\\201C";font-size:80px;position:absolute;left:-20px;top:-20px;color:#7a7a7a}blockquote cite[data-v-7cb1ec68]{color:#999;font-size:14px;display:block;margin-top:5px}blockquote cite[data-v-7cb1ec68]:before{content:"\\2014 \\2009"}.process-info[data-v-7cb1ec68]{font-size:8px;color:#999;text-align:right;margin-top:-14px}',""]),e.exports=r},329:function(e,t,n){"use strict";n.r(t);var r,o=n(16),c=(n(64),n(7)),l=n(322);!function(e){e[e.input=0]="input",e[e.request=1]="request",e[e.registered=2]="registered"}(r||(r={}));var f=c.default.extend({props:{bus:c.default},components:{Spinner:l.default},data:function(){return{username:"",formState:r.input}},computed:{usernameState:function(){return this.username.length>=4},usernameInvalidFeedback:function(){return this.username.length>0?"Enter at least 4 characters.":"Please enter something."}},methods:{clear:function(){this.$refs.spinner.hide(),this.username="",this.formState=r.input},formIsDisabled:function(){return this.formState!=r.input},submit:function(e){e.preventDefault(),this.register()},mounted:function(){this.$refs.spinner.show()},register:function(){var e=this,t=this.$refs.spinner;this.formState=r.request,t.show(),this.$axios.$post("users/register",{username:this.username}).then(function(){var n=Object(o.a)(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.formState=r.registered,e.bus.$emit("user",e.username),e.bus.$emit("showSuccess","Registrácia bola úspešná."),t.hide();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){e.formState=r.input,e.bus.$emit("showError","Nie je možné registrovať, skúste prosím neskôr."),t.hide()}))}}}),d=n(63),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("b-jumbotron",{attrs:{header:"Registrácia užívateľa",lead:"Zvolťe si ľubovoľné užívateľské meno.","bg-variant":"white"}},[n("form",{on:{submit:e.submit}},[n("b-form-group",{attrs:{id:"username-fieldset",description:"Zadajte vaše užívateľské meno.",label:"Meno užívateľa","label-for":"username","valid-feedback":"Thank you!",disabled:e.formIsDisabled()}},[n("b-form-input",{attrs:{id:"username",placeholder:"Užívateľské meno",trim:"",required:"",disabled:e.formIsDisabled()},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("b-button",{attrs:{size:"lg",type:"submit",variant:"primary",disabled:e.formIsDisabled()}},[e._v("\n          Registruj\n          "),n("spinner",{ref:"spinner"})],1)],1)],1)])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Spinner:n(322).default})},330:function(e,t,n){"use strict";n.r(t);var r=n(16),o=(n(64),n(12),n(119),n(9),n(160),n(7)),c=n(322),l=o.default.extend({components:{Spinner:c.default},props:{bus:o.default},data:function(){return{responses:[],lastId:0,numberOfQuotes:1,pendingRequest:!1}},methods:{onSubmit:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,r=Date.now(),t.$refs.spinner.show(),t.pendingRequest=!0,n.next=7,t.$axios.get("quotes",{params:{count:t.numberOfQuotes}});case 7:o=n.sent,c=o.data,t.pendingRequest=!1,t.$refs.spinner.hide(),t.lastId+=1,t.responses.unshift({id:t.lastId,quotes:c.quotes.map((function(e,t){return{id:t,quote:e.quote,author:e.author}})),serviceCenter:c.serviceCenter,duration:((Date.now()-r)/1e3).toFixed(2)}),n.next=22;break;case 15:n.prev=15,n.t0=n.catch(1),(l=n.t0.message).match(/status code 503/)&&(l="Servisné fronty sú plné, skúste neskôr."),t.bus.$emit("showError",l),t.pendingRequest=!1,t.$refs.spinner.hide();case 22:case"end":return n.stop()}}),n,null,[[1,15]])})))()},clear:function(){this.responses=[]}}}),f=(n(327),n(63)),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Užívateľské požiadavky")]),e._v(" "),n("p",[e._v("\n    Systém implementuje službu ktorá zobrazuje náhodne vybrané citáty v\n    angličtine z databázy. Môžete na jednu požiadavku získať od 1 do 100\n    citátov naraz.\n  ")]),e._v(" "),n("div",{staticClass:"mb-5"},[n("b-form",{attrs:{inline:""},on:{submit:e.onSubmit}},[n("b-form-group",{attrs:{label:"Počet citátov"}},[n("b-form-input",{staticClass:"mr-1",attrs:{id:"number-of-quotes",type:"number",required:"",min:"1",max:"100"},model:{value:e.numberOfQuotes,callback:function(t){e.numberOfQuotes=t},expression:"numberOfQuotes"}}),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.pendingRequest}},[e._v("\n          Požiadavka\n          "),n("spinner",{ref:"spinner"})],1),e._v(" "),n("b-button",{on:{click:e.clear}},[e._v(" Vymazať výstup ")])],1)],1)],1),e._v(" "),e._l(e.responses,(function(t){return n("b-card",{key:t.id,staticClass:"mb-3",attrs:{title:"Požiadavka "+t.id}},[n("hr"),e._v(" "),n("div",{staticClass:"process-info"},[e._v("\n      Požiadavku spracovalo servisné centrum #"+e._s(t.serviceCenter)+" za\n      "+e._s(t.duration)+"s.\n    ")]),e._v(" "),e._l(t.quotes,(function(t){return n("b-card-text",{key:t.id},[n("blockquote",{staticClass:"blockquote mb-0"},[n("p",[e._v("\n          "+e._s(t.quote)+"\n        ")]),e._v(" "),n("footer",{staticClass:"blockquote-footer"},[e._v(e._s(t.author))])])])}))],2)}))],2)}),[],!1,null,"7cb1ec68",null);t.default=component.exports;installComponents(component,{Spinner:n(322).default})},341:function(e,t,n){"use strict";n.r(t);var r=n(16),o=(n(64),n(7)),c=n(324),l=n(322),f=o.default.extend({components:{Spinner:l.default},props:{bus:o.default},data:function(){return{username:"",loading:!0}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.$refs.spinner.show(),t.next=4,Object(c.getCurrentUser)(e.$axios);case 4:e.username=t.sent,e.loading=!1,e.$refs.spinner.hide(),e.bus.$on("user",(function(t){return e.username=t}));case 8:case"end":return t.stop()}}),t)})))()}}),d=n(63),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("spinner",{ref:"spinner"}),e._v(" "),e.loading||e.username?e._e():n("register",{attrs:{bus:e.bus}}),e._v(" "),e.username?n("request",{attrs:{bus:e.bus}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Spinner:n(322).default,Register:n(329).default,Request:n(330).default})}}]);